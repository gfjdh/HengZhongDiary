# 游戏设计内容
游戏的核心玩法是合理分配角色的精力进行学习和行动，并且会遇到各种随机触发的特殊事件，这也是吸引玩家游玩的核心兴趣点。

## 一、属性设计
1. 角色
角色的静态属性（天赋）包括：智商、耐性、体力、性格
角色的动态属性（状态）包括：精力、心情、心理素质、学习动力、学习劲头、身体健康、压力。
角色的成长属性（目标）包括：各科知识储备、各科做题技巧
角色的视图属性（由其他属性折算而来的修正）：学习效率
角色的临时属性：按tag记录，视为全局修正，可能有持续时间，基本由特殊时间产生

接下来分别阐述属性含义和作用：
——
智商：影响角色学习知识和做题技巧的速度
耐性：影响角色学习动力和劲头的消耗速度和压力积累速度
体力：影响身体健康的消耗速度，也影响精力恢复速度
性格：可能有多种tag，例如“冷漠”、“热情”、“社恐”、“孤僻”、“责任感”等等、可能对特殊事件造成影响。
——
精力：数值运营的核心，每一天的精力是有限的，大部分活动都需要消耗精力，可以通过睡觉、午休以及特殊事件恢复，精力越低恢复量越大（即有增长曲线），低精力会降低学习效率，零精力会消耗身体健康、心情等其他状态属性。当身体健康低时，精力的最大值会暂时下降，恢复速度变慢。
心情：范围在-100到+100之间、会缓慢回复至0的数值。心情在正值时（0以上）对学习效率有正面影响，但过高（比如超过80）可能会因为过于兴奋而分散注意力（学习效率下降）。心情为负时，学习效率下降。心情的增长受特殊事件或者极端数值（例如0精力）影响。当压力过高时，心情恢复速度变慢甚至随时间下降。
心理素质：初始值性质类似角色的静态属性，但是因为可后天改变所以视为动态属性，主要受特殊事件影响，心理素质越高心情的波动越小、考试的发挥越稳定。心理素质高时，压力自然下降速度加快。
学习动力：长期层面的学习劲头，会影响每一天的学习劲头恢复，主要受特殊事件增长、过疲劳会下降。
学习劲头：每日根据学习动力自动恢复，数值高时可以给学习效率增加正面修正，为0时继续学习会消耗心情。
身体健康：随时间自动增长（有上限），受部分极端数值或特殊事件影响，低身体健康会导致生病回家（跳过一段时间并损失成长属性，重置状态为正常范围）。
压力：心情为0时消耗心情、低学习劲头时学习、考试发挥失常以及部分特殊事件均会增加，压力会随时间缓慢降低，正常状态下学习、部分特殊事件也可以降低压力。高压力时高可能爆负面特殊事件，低可能性爆正面特殊事件。高压力对身体健康有负面影响（例如压力>70时，身体健康缓慢下降）。
——
各科知识储备、各科做题技巧：通过上课和自习增长，上课和自习都会增长，但上课增长知识储备较多，自习增长做题技巧较多。最终反映在考试分数上，相当于游戏目标
——
学习效率：角色各科知识储备、各科做题技巧的修正倍率
————
考试发挥：
考试分数由知识储备和做题技巧决定，但受心理素质和压力影响（发挥稳定性）。可以设计一个发挥系数（由心理素质和压力计算）。

2. 教师
教师的水平自然也有优劣之分，可以从教学质量、工作态度、对学生态度、对角色关注度等维度衡量。
高教师关注度可以提高上课学习效率修正以及请教老师的学习效率修正，并且可能解锁特殊事件（邀请成为课代表什么的？）
相反的，负教师关注度会降低自习学习效率修正以及请教老师的学习效率修正。
具体设计以后再说

3. 同学
同学有性格tag、擅长的科目等属性
具体设计以后再说


## 二、系统设计
### 界面布局设计
大概如下：

点击子面板来切换详细视图

### 学习状态切换
可以手动切换“专注”“平常”“摸鱼”三种状态，具有不同效果，其中：
- 专注：需要学习劲头和精力高于一定值才能切换，效果为小幅度提高精力消耗量，小幅度增加学习劲头消耗量，大量提升学习效率。
- 平常：默认状态，无特殊修正
- 摸鱼：需要学习劲头和精力低于一定值才能切换，效果为大幅度降低精力消耗量，小幅度增加学习劲头消耗量，大量降低学习效率。

其他状态：可能因极端状态数值或者特殊事件强制切换，持续一段时间或者需要任务消除，以下为举例：
- 崩溃：大幅度提高精力消耗量，大幅度增加学习劲头消耗量，大量降低学习效率。
- 躁动：大幅度降低精力消耗量，大幅度增加学习劲头消耗量。
- 心流：小幅度降低精力消耗量，大幅度减少学习劲头消耗量，缓慢提升学习动力，大量提升学习效率。
- 鸡血：大幅度提高精力消耗量，大量降低学习效率。

### 任务面板
所有的待办事项都放在这里，分成必吃榜和自选榜，按照ddl进行排序。任务有一个工作量指标和一个完成度百分比，60%为及格，80%为普通，99%为优秀。
任务又分成日常任务和限时任务。
日常任务包括学案（必）自助（选）作业（必）
限时任务包括积累本、习字等
日常任务每个教学日都会刷新，并且结算上一个教学日的任务结果

### 时间管理系统
游戏一天内流程一般按时间段为单位推进，具体的普通教学日一天流程为：早洗漱，早操，早读，早饭，上午第一节课，上午第二节课，上午大课间，上午第三节课，上午第四节课，上午第五节课，午饭，午休，下午第一节课，下午第二节课，下午第三节课，下午第四节课，下午第五节课，晚饭，晚新闻，晚自习一，晚自习二，晚自习三，晚洗漱，晚休
每个时间段都有开始时机、进行中、结束时机，作为特殊事件的触发节点。
这些时间段分成几类：早洗漱、早操、早读、吃饭、上课、自习、公共自习、大课间、午晚休、晚洗漱
在特殊时间段内时间可按分钟自行分配，例如公共自习或者自由活动时间

接下来是详细介绍：
- 早洗漱：可选早起/睡五分钟懒觉/喊楼，早起可增加班主任关系，睡懒觉可增加少量精力，喊楼需要一定心理素质和压力和学习动力才能选择，可以增加班主任关系和学习劲头
- 早操：固定减少量精力，没别的意思纯讽刺
- 早读：虽然叫早读但是被视为一节文科自习
- 上课：根据当前学习状态进行对应科目数值增减
- 自习：根据当前学习状态进行对应科目数值增减
- 公共自习：给40分钟自由分配，根据当前学习状态进行自选科目数值增减，一般用来完成学习任务。

完成任务的方式设计：
在公共自习这样的自由时间打开任务面板，长按任务按钮进行任务，按当前学习效率和任务量增长任务完成度。

- 晚新闻：可选看新闻/自由自习/请教老师，具体效果以后再说。
- 吃饭：可选走餐/跑餐/留堂：走餐无特殊效果，跑餐少量提升心情（吃得好）小概率触发特殊事件（摔跤、通报批评等）。留堂：留下学习，消耗身体健康获得20min公共自习时间。
- 大课间：自由活动20min，可选行动很多，也可以用于完成任务，具体以后再设计。
- 晚洗漱：可选回宿舍/留堂，回宿舍无效果，留堂同上
- 午晚休：可选休息/夜读，休息正常恢复精力，夜读减少精力恢复量，提升自选一门科目水平。

————
为了缩短无意义的游戏流程，一个星期视为一个教学日和一个周测日。
周测日早饭和晚饭有自由活动时间，然后进行上午语物化下午数英生的周测，高一高二晚上有电影时间，高三晚上上自习，具体来说：
- 早/晚自由活动：给一个小时左右自由分配，可以选择睡懒觉、运动、聊天、洗澡、自习、吃泡面、去食堂等，每个行动需要消耗一定时间，用完为止。具体数值设计以后再说。
- 电影时间也可以用来自习，效率减半。
- 周测：其实就是大型自习/小型考试。下一个教学日会触发周测成绩时间。

——
每个月进行一次月考和一次放假，第二、四次月考改为期中、期末考试
即每四个教学日和三个周测日后，第四个周测日变成考试日。然后紧跟一天假期。
考试日只有六科考试六个时间段，玩家只需要切换学习状态（专注、平常、摸鱼等）来进行考试日的精力分配即可。每一科考试中/考完都有可能会触发事件影响角色状态（比如考试中途卡壳之类的）。
假期一整天视为一个时间段，回复大量状态，也有可能触发事件。

### 同学关系系统
在课间和自由活动时间可以有和同学互动选项
和同学互动可以娱乐或者请教等选项，提高心情或者学科水平，设计上要有很高的正收益

### 教师关注度系统
请教老师、优秀完成学科任务均可获取教师关注度

### 学习任务发放、验收系统
每节课下课老师都有可能发放学习任务（写自助、习字、积累本等）需要在公共自习或抽时间完成，否则会降教师关注度，如果花大量时间优质完成可以被表演并且提高教师关注度。
例如，在每次下课时老师可能会留积累本任务，在学科自习上课时极大概率会留自习任务。
在对应学科自习只能进行对应学科的任务，在公共自习可以进行任意任务

### 课间行动
课间行动选项很多，包括去请教老师、与同学讨论知识点或放松聊天、去厕所等

### 午晚休行动
可选休息/夜读，休息正常恢复精力，夜读减少精力恢复量，提升自选一门科目水平。
通过特殊事件携带手机后可以摸鱼

### 考试系统
考试成绩由各科知识储备和各科做题技巧共同决定，需要设计一个合理的数学公式，考试结果在下一个教学日发布，根据往次平均成绩评价结果并影响角色状态。
考试成绩设有年级和班级排名
考试具有难度系数波动

### 事件系统
本游戏的核心系统，需要海量的事件支持。
设计上需要完善而兼容性拓展性强的事件数据结构，采用模块化设计，方便后期添加海量特殊事件。
可能需要的支持有：
- 事件分类：
  - 日常事件（高频，影响小）
  - 关键事件（低频，影响大）  
  - 连锁事件（有前后顺序）
  - 角色专属事件（与特定同学/老师相关）
- 触发时间限制（天数，时段）
- 触发属性限制
- 随机触发时的权重
- 选择后的属性修改
- 前置事件的拓扑排序
- 后置事件的定时触发
- 系统解锁事件：相当于新手教程，在前期特定时间段逐步解锁高级系统

实现设计：事件使用json格式存储，分两个文件，一个是触发条件一个是应用效果，我们需要设计好读取触发条件和应用效果的函数

### 恋爱系统
待定，或者dlc

### 成就系统
举例：
- 特长发展：在某科目表现突出解锁特殊能力
- 人际关系成就：与特定同学关系好获得学习小组加成

### 便利设计
在早洗漱、早操、早读、吃饭、各科上课、各科自习、午晚休、晚洗漱这种低自由度的时间段设置默认选项，当玩家不作出选择时只需要点击继续即可触发默认选项

### 开局选择
除了第一局的属性固定或随机，玩家开局应当可以自行加点，包括家庭环境、角色属性、重点班等。

### 商店和道具系统
每天午饭后可以选择去商店购买道具，每天都有一定预算进账。
包括文具，摸鱼用具，小零食，礼物，任务物品，特殊物品之类的，
具体作用待定

### 多结局
游戏应当有多种结局，目前的想法有：
- NE：正常高考
- BE：发动学生失败被退学
- HE：发动学生成功并且实现教育改革（学生起义是隐藏结局）

### 游戏存档
游戏存档默认保存在浏览器的用户储存中，并且提供导入和导出功能。
游戏每进行一天进行一次自动存档，玩家也可以选择手动存档


## 三、游戏流程
### 主界面：
显示标题，给出选项：
- 开始游戏——进入开场剧情（新手教程），然后正式开始游戏
- 继续游戏——读取自动/手动/导入存档
- 角色加点——需要通关一次游戏后解锁
- 游戏设置——还没想好要放什么
- 玩法介绍——介绍游戏背景和操作说明
- 感谢名单——开发测试人员等

### 开场剧情（新手教程）：
介绍学校背景和入学过程之类的，时间线上是军训
开始时，同学系统，教师系统，学习任务系统、道具系统锁定
课间和休息时间选项唯一或者限制
通过两周（两个教学日）教给玩家基本操作（切换状态）和推进时间的操作，并且逐步给玩家讲解属性含义。
第一天晚上给玩家发一本学生手册讲校规，并解锁教师系统
军训日上下午视为两个军训课时间段，可以增长心理素质。
每天晚上介绍三个老师（语数英物化生），给玩家展示本学年随机出的教师属性。
军训第二天中午强制去一次商店，解锁商店和道具功能
军训结束后给玩家发两个刚认识的朋友（具有一定初始关系的同学）并解锁同学系统

### 正式游戏阶段
第三天开始正式上课
按教学日-周测日推进，直到考试日和放假日。进行四次考试（月考-期中-月考-期末）后放寒暑假。寒暑假简化为一个选择题：
A 提前自律完成所有作业：消耗大量学习动力获得大量做题技巧，开学心情和精力饱满
B 按部就班完成作业：消耗少量学习动力获得少量做题技巧，开学精力饱满
C 按部就班抄完作业：无修正
D 先玩，在ddl抄完作业：获得少量学习动力，开学精力亏空
E 作业是什么？：失去少量做题技巧，获得大量学习动力，开学触发时间“检查作业”

两次长假后提升年级，教师班子随机替换几个，根据成绩有可能提升至重点班或者掉到普通班，若换班则同学朋友大量替换，否则少量替换。

到最终高考日根据玩家属性以专注状态进行考试结算，分数为最终评价，展示结局并且根据评价获得全局加点点数。